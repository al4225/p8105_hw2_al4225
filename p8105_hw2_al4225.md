p8105_HW2_al4225.Rmd
================
Anjing
2022-10-03

## Problem 2

### Mr. Trash Wheel dataset

Read and clean the Mr. Trash Wheel sheet:

1.  specify the sheet in the Excel file and to omit non-data entries
    (rows with notes / figures; columns containing notes) using
    arguments in read_excel
2.  use reasonable variable names
3.  omit rows that do not include dumpster-specific data
4.  round the number of sports balls to the nearest integer and converts
    the result to an integer variable (using as.integer)

``` r
library(tidyverse)
```

    ## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──
    ## ✔ ggplot2 3.3.6      ✔ purrr   0.3.4 
    ## ✔ tibble  3.1.8      ✔ dplyr   1.0.10
    ## ✔ tidyr   1.2.0      ✔ stringr 1.4.1 
    ## ✔ readr   2.1.2      ✔ forcats 0.5.2 
    ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ## ✖ dplyr::filter() masks stats::filter()
    ## ✖ dplyr::lag()    masks stats::lag()

``` r
library(readxl)
Mr_data = read_excel("./data/updated_p2.xlsx",
                     sheet = "Mr. Trash Wheel",
                     range = "A2:N550",
                     col_names = TRUE) %>%
janitor::clean_names() %>%
drop_na() %>%
mutate(sports_balls = as.integer(round(sports_balls, digits = 0)), 
       dumpster = as.numeric(dumpster), 
       year = as.numeric(year), 
       homes_powered = as.integer(round(homes_powered, digits = 0)), 
       name = "mr. trash wheel") %>%
select(name, everything())
Mr_data
```

    ## # A tibble: 486 × 15
    ##    name  dumps…¹ month  year date                weigh…² volum…³ plast…⁴ polys…⁵
    ##    <chr>   <dbl> <chr> <dbl> <dttm>                <dbl>   <dbl>   <dbl>   <dbl>
    ##  1 mr. …       1 May    2014 2014-05-16 00:00:00    4.31      18    1450    1820
    ##  2 mr. …       2 May    2014 2014-05-16 00:00:00    2.74      13    1120    1030
    ##  3 mr. …       3 May    2014 2014-05-16 00:00:00    3.45      15    2450    3100
    ##  4 mr. …       4 May    2014 2014-05-17 00:00:00    3.1       15    2380    2730
    ##  5 mr. …       5 May    2014 2014-05-17 00:00:00    4.06      18     980     870
    ##  6 mr. …       6 May    2014 2014-05-20 00:00:00    2.71      13    1430    2140
    ##  7 mr. …       7 May    2014 2014-05-21 00:00:00    1.91       8     910    1090
    ##  8 mr. …       8 May    2014 2014-05-28 00:00:00    3.7       16    3580    4310
    ##  9 mr. …       9 June   2014 2014-06-05 00:00:00    2.52      14    2400    2790
    ## 10 mr. …      10 June   2014 2014-06-11 00:00:00    3.76      18    1340    1730
    ## # … with 476 more rows, 6 more variables: cigarette_butts <dbl>,
    ## #   glass_bottles <dbl>, grocery_bags <dbl>, chip_bags <dbl>,
    ## #   sports_balls <int>, homes_powered <int>, and abbreviated variable names
    ## #   ¹​dumpster, ²​weight_tons, ³​volume_cubic_yards, ⁴​plastic_bottles,
    ## #   ⁵​polystyrene

### Professor Trash Wheel dataset

Use a similar process to import, clean, and organize the data for
Professor Trash Wheel.

``` r
library(tidyverse)
library(readxl)
Professor_data = read_excel("./data/updated_p2.xlsx",
                     sheet = "Professor Trash Wheel",
                     range = "A2:M97",
                     col_names = TRUE) %>%

drop_na() %>%
janitor::clean_names() %>%
mutate(homes_powered = as.integer(round(homes_powered, digits = 0)), 
       name = "professor trash wheel") %>%
select(name, everything())
Professor_data
```

    ## # A tibble: 82 × 14
    ##    name  dumps…¹ month  year date                weigh…² volum…³ plast…⁴ polys…⁵
    ##    <chr>   <dbl> <chr> <dbl> <dttm>                <dbl>   <dbl>   <dbl>   <dbl>
    ##  1 prof…       1 Janu…  2017 2017-01-02 00:00:00    1.79      15    1950    6080
    ##  2 prof…       2 Janu…  2017 2017-01-30 00:00:00    1.58      15    9540   11230
    ##  3 prof…       3 Febr…  2017 2017-02-26 00:00:00    2.32      18    8350    9210
    ##  4 prof…       4 Febr…  2017 2017-02-26 00:00:00    3.72      15    8590    1030
    ##  5 prof…       5 Febr…  2017 2017-02-28 00:00:00    1.45      15    7830    9950
    ##  6 prof…       6 March  2017 2017-03-30 00:00:00    1.71      15    8210   10340
    ##  7 prof…       7 April  2017 2017-04-01 00:00:00    1.82      15    9830   11020
    ##  8 prof…       8 April  2017 2017-04-20 00:00:00    2.37      15    9240    8760
    ##  9 prof…       9 May    2017 2017-05-10 00:00:00    2.64      15    9540    8810
    ## 10 prof…      10 May    2017 2017-05-26 00:00:00    2.78      15    8230    7800
    ## # … with 72 more rows, 5 more variables: cigarette_butts <dbl>,
    ## #   glass_bottles <dbl>, grocery_bags <dbl>, chip_bags <dbl>,
    ## #   homes_powered <int>, and abbreviated variable names ¹​dumpster,
    ## #   ²​weight_tons, ³​volume_cubic_yards, ⁴​plastic_bottles, ⁵​polystyrene

### Combine the two datasets.

To keep track of which Trash Wheel is which, I added an additional
variable “name” before combining.

According to the wheel_data dataset, there are 568 observations in
wheel_data. Every observation represents a dumpster. There are 15
variables in the dataset including the new column “name” I added. Key
variables such as the 2 kinds of trash wheels, dumpster number, date,
amount of trash they collected in weight and volumes, types of trash
such as bottles, polystyrene, cigarette and bags, and the homes they
powered are in the dataset.

``` r
wheel_data = 
  bind_rows(Mr_data, Professor_data) %>%
  janitor::clean_names() 
nrow(wheel_data) 
```

    ## [1] 568

``` r
ncol(wheel_data)
```

    ## [1] 15

``` r
wheel_data
```

    ## # A tibble: 568 × 15
    ##    name  dumps…¹ month  year date                weigh…² volum…³ plast…⁴ polys…⁵
    ##    <chr>   <dbl> <chr> <dbl> <dttm>                <dbl>   <dbl>   <dbl>   <dbl>
    ##  1 mr. …       1 May    2014 2014-05-16 00:00:00    4.31      18    1450    1820
    ##  2 mr. …       2 May    2014 2014-05-16 00:00:00    2.74      13    1120    1030
    ##  3 mr. …       3 May    2014 2014-05-16 00:00:00    3.45      15    2450    3100
    ##  4 mr. …       4 May    2014 2014-05-17 00:00:00    3.1       15    2380    2730
    ##  5 mr. …       5 May    2014 2014-05-17 00:00:00    4.06      18     980     870
    ##  6 mr. …       6 May    2014 2014-05-20 00:00:00    2.71      13    1430    2140
    ##  7 mr. …       7 May    2014 2014-05-21 00:00:00    1.91       8     910    1090
    ##  8 mr. …       8 May    2014 2014-05-28 00:00:00    3.7       16    3580    4310
    ##  9 mr. …       9 June   2014 2014-06-05 00:00:00    2.52      14    2400    2790
    ## 10 mr. …      10 June   2014 2014-06-11 00:00:00    3.76      18    1340    1730
    ## # … with 558 more rows, 6 more variables: cigarette_butts <dbl>,
    ## #   glass_bottles <dbl>, grocery_bags <dbl>, chip_bags <dbl>,
    ## #   sports_balls <int>, homes_powered <int>, and abbreviated variable names
    ## #   ¹​dumpster, ²​weight_tons, ³​volume_cubic_yards, ⁴​plastic_bottles,
    ## #   ⁵​polystyrene

The total number of sports balls collected by Mr. Trash Wheel in 2020 is
856

``` r
wheel_data %>%
  filter(name == "mr. trash wheel", year == "2020") %>%
  select(sports_balls) %>%
  colSums()
```

    ## sports_balls 
    ##          856

The total weight of trash collected by Professor Trash Wheel is 162.54

``` r
wheel_data %>%
  filter(name == "professor trash wheel") %>%
  select(weight_tons) %>%
  colSums()
```

    ## weight_tons 
    ##      162.54
